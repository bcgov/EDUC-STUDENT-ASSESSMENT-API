CREATE TABLE ASSESSMENT_SESSION_CRITERIA
(
    ASSESSMENT_SESSION_CRITERIA_ID UUID,
    SESSION_START TIMESTAMP NOT NULL,
    SESSION_END TIMESTAMP NOT NULL,
    EFFECTIVE_DATE TIMESTAMP NOT NULL,
    EXPIRY_DATE TIMESTAMP NOT NULL,
    CREATE_USER VARCHAR(32) NOT NULL,
    CREATE_DATE TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
    UPDATE_USER VARCHAR(32) NOT NULL,
    UPDATE_DATE TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
    CONSTRAINT ASSESSMENT_SESSION_CRITERIA_ID_PK PRIMARY KEY (ASSESSMENT_SESSION_CRITERIA_ID)
);

CREATE TABLE ASSESSMENT_SESSION_TYPE_CODE_CRITERIA
(
    ASSESSMENT_SESSION_TYPE_CODE_CRITERIA_ID UUID,
    ASSESSMENT_TYPE_CODE VARCHAR(10) NOT NULL,
    ASSESSMENT_SESSION_CRITERIA_ID UUID NOT NULL,
    EFFECTIVE_DATE TIMESTAMP NOT NULL,
    EXPIRY_DATE TIMESTAMP NOT NULL,
    CREATE_USER VARCHAR(32) NOT NULL,
    CREATE_DATE TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
    UPDATE_USER VARCHAR(32) NOT NULL,
    UPDATE_DATE TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
    CONSTRAINT ASSESSMENT_SESSION_TYPE_CODE_CRITERIA_ID_PK PRIMARY KEY (ASSESSMENT_SESSION_TYPE_CODE_CRITERIA_ID),
    CONSTRAINT FK_ASSESSMENT_TYPE_CODE FOREIGN KEY (ASSESSMENT_TYPE_CODE) REFERENCES ASSESSMENT_TYPE_CODE(ASSESSMENT_TYPE_CODE),
    CONSTRAINT FK_ASSESSMENT_SESSION_CRITERIA_ID FOREIGN KEY (ASSESSMENT_SESSION_CRITERIA_ID) REFERENCES ASSESSMENT_SESSION_CRITERIA(ASSESSMENT_SESSION_CRITERIA_ID)
);

INSERT INTO ASSESSMENT_SESSION_CRITERIA (
    ASSESSMENT_SESSION_CRITERIA_ID,
    SESSION_START,
    SESSION_END,
    EFFECTIVE_DATE,
    EXPIRY_DATE,
    CREATE_USER,
    CREATE_DATE,
    UPDATE_USER,
    UPDATE_DATE
)
VALUES
    (gen_random_uuid(), to_date('2099-10-01 00:00:00', 'YYYY-MM-DD HH24:MI:SS'), to_date('2099-11-16 00:00:00', 'YYYY-MM-DD HH24:MI:SS'), to_date('2017-10-01 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), to_date('2099-12-31 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), 'ASSESSMENT_API', CURRENT_TIMESTAMP, 'ASSESSMENT_API', CURRENT_TIMESTAMP),
    (gen_random_uuid(), to_date('2099-10-01 00:00:00', 'YYYY-MM-DD HH24:MI:SS'), to_date('2099-01-31 00:00:00', 'YYYY-MM-DD HH24:MI:SS'), to_date('2017-10-01 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), to_date('2099-12-31 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), 'ASSESSMENT_API', CURRENT_TIMESTAMP, 'ASSESSMENT_API', CURRENT_TIMESTAMP),
    (gen_random_uuid(), to_date('2099-10-01 00:00:00', 'YYYY-MM-DD HH24:MI:SS'), to_date('2099-05-31 00:00:00', 'YYYY-MM-DD HH24:MI:SS'), to_date('2017-10-01 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), to_date('2099-12-31 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), 'ASSESSMENT_API', CURRENT_TIMESTAMP, 'ASSESSMENT_API', CURRENT_TIMESTAMP),
    (gen_random_uuid(), to_date('2099-10-01 00:00:00', 'YYYY-MM-DD HH24:MI:SS'), to_date('2099-06-30 00:00:00', 'YYYY-MM-DD HH24:MI:SS'), to_date('2017-10-01 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), to_date('2099-12-31 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), 'ASSESSMENT_API', CURRENT_TIMESTAMP, 'ASSESSMENT_API', CURRENT_TIMESTAMP);


INSERT INTO ASSESSMENT_SESSION_TYPE_CODE_CRITERIA (
    ASSESSMENT_SESSION_TYPE_CODE_CRITERIA_ID,
    ASSESSMENT_TYPE_CODE,
    ASSESSMENT_SESSION_CRITERIA_ID,
    EFFECTIVE_DATE,
    EXPIRY_DATE,
    CREATE_USER,
    CREATE_DATE,
    UPDATE_USER,
    UPDATE_DATE
)
VALUES
    (gen_random_uuid(), 'LTE10', (SELECT ASSESSMENT_SESSION_CRITERIA_ID FROM ASSESSMENT_SESSION_CRITERIA WHERE EXTRACT(MONTH FROM SESSION_END) = 11), to_date('2019-07-01 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), to_date('2099-12-31 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), 'ASSESSMENT_API', CURRENT_TIMESTAMP, 'ASSESSMENT_API', CURRENT_TIMESTAMP),
    (gen_random_uuid(), 'NME10', (SELECT ASSESSMENT_SESSION_CRITERIA_ID FROM ASSESSMENT_SESSION_CRITERIA WHERE EXTRACT(MONTH FROM SESSION_END) = 11), to_date('2019-07-01 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), to_date('2099-12-31 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), 'ASSESSMENT_API', CURRENT_TIMESTAMP, 'ASSESSMENT_API', CURRENT_TIMESTAMP),
    (gen_random_uuid(), 'NMF10', (SELECT ASSESSMENT_SESSION_CRITERIA_ID FROM ASSESSMENT_SESSION_CRITERIA WHERE EXTRACT(MONTH FROM SESSION_END) = 11), to_date('2019-07-01 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), to_date('2099-12-31 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), 'ASSESSMENT_API', CURRENT_TIMESTAMP, 'ASSESSMENT_API', CURRENT_TIMESTAMP),
    (gen_random_uuid(), 'LTE12', (SELECT ASSESSMENT_SESSION_CRITERIA_ID FROM ASSESSMENT_SESSION_CRITERIA WHERE EXTRACT(MONTH FROM SESSION_END) = 11), to_date('2021-07-01 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), to_date('2099-12-31 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), 'ASSESSMENT_API', CURRENT_TIMESTAMP, 'ASSESSMENT_API', CURRENT_TIMESTAMP),
    (gen_random_uuid(), 'LTP12', (SELECT ASSESSMENT_SESSION_CRITERIA_ID FROM ASSESSMENT_SESSION_CRITERIA WHERE EXTRACT(MONTH FROM SESSION_END) = 11), to_date('2021-07-01 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), to_date('2099-12-31 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), 'ASSESSMENT_API', CURRENT_TIMESTAMP, 'ASSESSMENT_API', CURRENT_TIMESTAMP),

    (gen_random_uuid(), 'LTE10', (SELECT ASSESSMENT_SESSION_CRITERIA_ID FROM ASSESSMENT_SESSION_CRITERIA WHERE EXTRACT(MONTH FROM SESSION_END) = 1), to_date('2019-07-01 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), to_date('2099-12-31 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), 'ASSESSMENT_API', CURRENT_TIMESTAMP, 'ASSESSMENT_API', CURRENT_TIMESTAMP),
    (gen_random_uuid(), 'NME10', (SELECT ASSESSMENT_SESSION_CRITERIA_ID FROM ASSESSMENT_SESSION_CRITERIA WHERE EXTRACT(MONTH FROM SESSION_END) = 1), to_date('2019-07-01 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), to_date('2099-12-31 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), 'ASSESSMENT_API', CURRENT_TIMESTAMP, 'ASSESSMENT_API', CURRENT_TIMESTAMP),
    (gen_random_uuid(), 'NMF10', (SELECT ASSESSMENT_SESSION_CRITERIA_ID FROM ASSESSMENT_SESSION_CRITERIA WHERE EXTRACT(MONTH FROM SESSION_END) = 1), to_date('2019-07-01 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), to_date('2099-12-31 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), 'ASSESSMENT_API', CURRENT_TIMESTAMP, 'ASSESSMENT_API', CURRENT_TIMESTAMP),
    (gen_random_uuid(), 'LTP10', (SELECT ASSESSMENT_SESSION_CRITERIA_ID FROM ASSESSMENT_SESSION_CRITERIA WHERE EXTRACT(MONTH FROM SESSION_END) = 1), to_date('2019-07-01 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), to_date('2099-12-31 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), 'ASSESSMENT_API', CURRENT_TIMESTAMP, 'ASSESSMENT_API', CURRENT_TIMESTAMP),
    (gen_random_uuid(), 'LTE12', (SELECT ASSESSMENT_SESSION_CRITERIA_ID FROM ASSESSMENT_SESSION_CRITERIA WHERE EXTRACT(MONTH FROM SESSION_END) = 1), to_date('2021-07-01 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), to_date('2099-12-31 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), 'ASSESSMENT_API', CURRENT_TIMESTAMP, 'ASSESSMENT_API', CURRENT_TIMESTAMP),
    (gen_random_uuid(), 'LTP12', (SELECT ASSESSMENT_SESSION_CRITERIA_ID FROM ASSESSMENT_SESSION_CRITERIA WHERE EXTRACT(MONTH FROM SESSION_END) = 1), to_date('2021-07-01 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), to_date('2099-12-31 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), 'ASSESSMENT_API', CURRENT_TIMESTAMP, 'ASSESSMENT_API', CURRENT_TIMESTAMP),
    (gen_random_uuid(), 'LTF12', (SELECT ASSESSMENT_SESSION_CRITERIA_ID FROM ASSESSMENT_SESSION_CRITERIA WHERE EXTRACT(MONTH FROM SESSION_END) = 1), to_date('2021-07-01 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), to_date('2099-12-31 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), 'ASSESSMENT_API', CURRENT_TIMESTAMP, 'ASSESSMENT_API', CURRENT_TIMESTAMP),

    (gen_random_uuid(), 'LTE10', (SELECT ASSESSMENT_SESSION_CRITERIA_ID FROM ASSESSMENT_SESSION_CRITERIA WHERE EXTRACT(MONTH FROM SESSION_END) = 5), to_date('2019-07-01 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), to_date('2099-12-31 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), 'ASSESSMENT_API', CURRENT_TIMESTAMP, 'ASSESSMENT_API', CURRENT_TIMESTAMP),
    (gen_random_uuid(), 'LTP10', (SELECT ASSESSMENT_SESSION_CRITERIA_ID FROM ASSESSMENT_SESSION_CRITERIA WHERE EXTRACT(MONTH FROM SESSION_END) = 5), to_date('2019-07-01 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), to_date('2099-12-31 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), 'ASSESSMENT_API', CURRENT_TIMESTAMP, 'ASSESSMENT_API', CURRENT_TIMESTAMP),
    (gen_random_uuid(), 'NMF10', (SELECT ASSESSMENT_SESSION_CRITERIA_ID FROM ASSESSMENT_SESSION_CRITERIA WHERE EXTRACT(MONTH FROM SESSION_END) = 5), to_date('2019-07-01 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), to_date('2099-12-31 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), 'ASSESSMENT_API', CURRENT_TIMESTAMP, 'ASSESSMENT_API', CURRENT_TIMESTAMP),
    (gen_random_uuid(), 'NME10', (SELECT ASSESSMENT_SESSION_CRITERIA_ID FROM ASSESSMENT_SESSION_CRITERIA WHERE EXTRACT(MONTH FROM SESSION_END) = 5), to_date('2019-07-01 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), to_date('2099-12-31 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), 'ASSESSMENT_API', CURRENT_TIMESTAMP, 'ASSESSMENT_API', CURRENT_TIMESTAMP),
    (gen_random_uuid(), 'LTE12', (SELECT ASSESSMENT_SESSION_CRITERIA_ID FROM ASSESSMENT_SESSION_CRITERIA WHERE EXTRACT(MONTH FROM SESSION_END) = 5), to_date('2021-07-01 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), to_date('2099-12-31 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), 'ASSESSMENT_API', CURRENT_TIMESTAMP, 'ASSESSMENT_API', CURRENT_TIMESTAMP),
    (gen_random_uuid(), 'LTP12', (SELECT ASSESSMENT_SESSION_CRITERIA_ID FROM ASSESSMENT_SESSION_CRITERIA WHERE EXTRACT(MONTH FROM SESSION_END) = 5), to_date('2021-07-01 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), to_date('2099-12-31 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), 'ASSESSMENT_API', CURRENT_TIMESTAMP, 'ASSESSMENT_API', CURRENT_TIMESTAMP),

    (gen_random_uuid(), 'LTE10', (SELECT ASSESSMENT_SESSION_CRITERIA_ID FROM ASSESSMENT_SESSION_CRITERIA WHERE EXTRACT(MONTH FROM SESSION_END) = 6), to_date('2019-07-01 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), to_date('2099-12-31 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), 'ASSESSMENT_API', CURRENT_TIMESTAMP, 'ASSESSMENT_API', CURRENT_TIMESTAMP),
    (gen_random_uuid(), 'NME10', (SELECT ASSESSMENT_SESSION_CRITERIA_ID FROM ASSESSMENT_SESSION_CRITERIA WHERE EXTRACT(MONTH FROM SESSION_END) = 6), to_date('2019-07-01 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), to_date('2099-12-31 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), 'ASSESSMENT_API', CURRENT_TIMESTAMP, 'ASSESSMENT_API', CURRENT_TIMESTAMP),
    (gen_random_uuid(), 'NMF10', (SELECT ASSESSMENT_SESSION_CRITERIA_ID FROM ASSESSMENT_SESSION_CRITERIA WHERE EXTRACT(MONTH FROM SESSION_END) = 6), to_date('2019-07-01 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), to_date('2099-12-31 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), 'ASSESSMENT_API', CURRENT_TIMESTAMP, 'ASSESSMENT_API', CURRENT_TIMESTAMP),
    (gen_random_uuid(), 'LTP10', (SELECT ASSESSMENT_SESSION_CRITERIA_ID FROM ASSESSMENT_SESSION_CRITERIA WHERE EXTRACT(MONTH FROM SESSION_END) = 6), to_date('2019-07-01 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), to_date('2099-12-31 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), 'ASSESSMENT_API', CURRENT_TIMESTAMP, 'ASSESSMENT_API', CURRENT_TIMESTAMP),
    (gen_random_uuid(), 'LTE12', (SELECT ASSESSMENT_SESSION_CRITERIA_ID FROM ASSESSMENT_SESSION_CRITERIA WHERE EXTRACT(MONTH FROM SESSION_END) = 6), to_date('2021-07-01 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), to_date('2099-12-31 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), 'ASSESSMENT_API', CURRENT_TIMESTAMP, 'ASSESSMENT_API', CURRENT_TIMESTAMP),
    (gen_random_uuid(), 'LTP12', (SELECT ASSESSMENT_SESSION_CRITERIA_ID FROM ASSESSMENT_SESSION_CRITERIA WHERE EXTRACT(MONTH FROM SESSION_END) = 6), to_date('2021-07-01 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), to_date('2099-12-31 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), 'ASSESSMENT_API', CURRENT_TIMESTAMP, 'ASSESSMENT_API', CURRENT_TIMESTAMP),
    (gen_random_uuid(), 'LTF12', (SELECT ASSESSMENT_SESSION_CRITERIA_ID FROM ASSESSMENT_SESSION_CRITERIA WHERE EXTRACT(MONTH FROM SESSION_END) = 6), to_date('2021-07-01 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), to_date('2099-12-31 00:00:00.000', 'YYYY-MM-DD HH24:MI:SS'), 'ASSESSMENT_API', CURRENT_TIMESTAMP, 'ASSESSMENT_API', CURRENT_TIMESTAMP);
